const{getDbClient}=require("../globals/db"),{onExit,onUncaughtError,onUnhandledRejectionError}=require("@app/lib/handlers");module.exports=e=>{e.on("SIGINT",async()=>{await onExit(0,async()=>{const n=getDbClient();n&&await n.close()}),process.exit(0)}),e.on("SIGTERM",async()=>{await onExit(0,async()=>{const n=getDbClient();n&&await n.close()}),process.exit(0)}),e.on("uncaughtException",onUncaughtError),e.on("unhandledRejection",onUnhandledRejectionError)};
